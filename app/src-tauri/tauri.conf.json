{
  "$schema": "https://schema.tauri.app/config/2",
  "productName": "biopass",
  "version": "0.1.0",
  "identifier": "com.ticklab.biopass",
  "build": {
    "beforeDevCommand": "bun run dev",
    "devUrl": "http://localhost:1420",
    "beforeBuildCommand": "bun run build",
    "frontendDist": "../dist"
  },
  "app": {
    "windows": [
      {
        "title": "Biopass",
        "width": 800,
        "height": 600
      }
    ],
    "security": {
      "csp": null,
      "assetProtocol": {
        "enable": true,
        "scope": ["$HOME/.local/share/com.ticklab.biopass/**", "$DATA/**"]
      }
    }
  },
  "bundle": {
    "active": true,
    "targets": ["deb", "rpm"],
    "icon": [
      "icons/32x32.png",
      "icons/128x128.png",
      "icons/128x128@2x.png",
      "icons/icon.icns",
      "icons/icon.ico"
    ],
    "linux": {
      "rpm": {
        "preInstallScript": "scripts/download_models.sh",
        "preRemoveScript": "scripts/prerm-rpm",
        "files": {
          "/usr/share/com.ticklab.biopass/download_models.sh": "scripts/download_models.sh",
          "/lib/security/libbiopass_pam.so": "../../auth/build/pam/libbiopass_pam.so",
          "/usr/local/bin/biopass-helper": "../../auth/build/pam/biopass-helper",
          "/usr/lib/biopass/libbiopass_det.so": "../../auth/build/face/detection/libbiopass_det.so",
          "/usr/lib/biopass/libbiopass_reg.so": "../../auth/build/face/recognition/libbiopass_reg.so",
          "/usr/lib/biopass/libbiopass_as.so": "../../auth/build/face/antispoofing/libbiopass_as.so",
          "/usr/lib/biopass/libc10.so": "../../auth/build/_deps/libtorch-src/lib/libc10.so",
          "/usr/lib/biopass/libtorch.so": "../../auth/build/_deps/libtorch-src/lib/libtorch.so",
          "/usr/lib/biopass/libtorch_cpu.so": "../../auth/build/_deps/libtorch-src/lib/libtorch_cpu.so",
          "/usr/lib/biopass/libtorch_global_deps.so": "../../auth/build/_deps/libtorch-src/lib/libtorch_global_deps.so",
          "/usr/lib/biopass/libbackend_with_compiler.so": "../../auth/build/_deps/libtorch-src/lib/libbackend_with_compiler.so",
          "/usr/lib/biopass/libnnapi_backend.so": "../../auth/build/_deps/libtorch-src/lib/libnnapi_backend.so",
          "/usr/lib/biopass/libshm.so": "../../auth/build/_deps/libtorch-src/lib/libshm.so",
          "/etc/ld.so.conf.d/biopass.conf": "scripts/biopass-ldconf"
        }
      },
      "deb": {
        "postInstallScript": "scripts/postinst",
        "preRemoveScript": "scripts/prerm",
        "files": {
          "/usr/share/com.ticklab.biopass/download_models.sh": "scripts/download_models.sh",
          "/lib/security/libbiopass_pam.so": "../../auth/build/pam/libbiopass_pam.so",
          "/usr/local/bin/biopass-helper": "../../auth/build/pam/biopass-helper",
          "/usr/lib/biopass/libbiopass_det.so": "../../auth/build/face/detection/libbiopass_det.so",
          "/usr/lib/biopass/libbiopass_reg.so": "../../auth/build/face/recognition/libbiopass_reg.so",
          "/usr/lib/biopass/libbiopass_as.so": "../../auth/build/face/antispoofing/libbiopass_as.so",
          "/usr/lib/biopass/libc10.so": "../../auth/build/_deps/libtorch-src/lib/libc10.so",
          "/usr/lib/biopass/libtorch.so": "../../auth/build/_deps/libtorch-src/lib/libtorch.so",
          "/usr/lib/biopass/libtorch_cpu.so": "../../auth/build/_deps/libtorch-src/lib/libtorch_cpu.so",
          "/usr/lib/biopass/libtorch_global_deps.so": "../../auth/build/_deps/libtorch-src/lib/libtorch_global_deps.so",
          "/usr/lib/biopass/libbackend_with_compiler.so": "../../auth/build/_deps/libtorch-src/lib/libbackend_with_compiler.so",
          "/usr/lib/biopass/libnnapi_backend.so": "../../auth/build/_deps/libtorch-src/lib/libnnapi_backend.so",
          "/usr/lib/biopass/libshm.so": "../../auth/build/_deps/libtorch-src/lib/libshm.so",
          "/etc/ld.so.conf.d/biopass.conf": "scripts/biopass-ldconf"
        }
      }
    }
  }
}
